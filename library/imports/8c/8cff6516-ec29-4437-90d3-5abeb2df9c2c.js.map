{"version":3,"sources":["assets/src/app/view/EnvironmentView.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { BackPackComponent } from \"../gamedata/BackPackComponent\"\nimport { ChoppingBlockComponent } from \"../gamedata/ChoppingBlockComponent\"\nimport { Environment } from \"../gamedata/Environment\"\nimport { ForgeComponent } from \"../gamedata/ForgeComponent\"\nimport { IronRockComponent } from \"../gamedata/IronRockComponent\"\nimport { Blacksmith } from \"../gamedata/labourers/Blacksmith\"\nimport { Logger } from \"../gamedata/labourers/Logger\"\nimport { Miner } from \"../gamedata/labourers/Miner\"\nimport { WoodCutter } from \"../gamedata/labourers/WoodCutter\"\nimport { SupplyPileComponent } from \"../gamedata/SupplyPileComponent\"\nimport { TreeComponent } from \"../gamedata/TreeComponent\"\n\nconst { ccclass, property } = cc._decorator\n@ccclass\nexport class EnvironmentView extends cc.Component {\n    @property(SupplyPileComponent)\n    public supplyPileComp1: SupplyPileComponent = null\n\n    @property(SupplyPileComponent)\n    public supplyPileComp2: SupplyPileComponent = null\n\n    @property(IronRockComponent)\n    private ironRockComp1: IronRockComponent = null\n\n    @property(IronRockComponent)\n    private ironRockComp2: IronRockComponent = null\n\n    @property(IronRockComponent)\n    private ironRockComp3: IronRockComponent = null\n\n    @property(TreeComponent)\n    public treeComp1: TreeComponent = null\n\n    @property(TreeComponent)\n    public treeComp2: TreeComponent = null\n\n    @property(TreeComponent)\n    public treeComp3: TreeComponent = null\n\n    @property(TreeComponent)\n    public treeComp4: TreeComponent = null\n\n    @property(ChoppingBlockComponent)\n    public choppingBlockComp: ChoppingBlockComponent = null\n\n    @property(ForgeComponent)\n    public forgeComp: ForgeComponent = null\n\n    @property(Blacksmith)\n    public blackSmith: Blacksmith = null\n\n    @property(Logger)\n    public logger: Logger = null\n\n    @property(Miner)\n    public miner: Miner = null\n\n    @property(WoodCutter)\n    public woodCutter: WoodCutter = null\n\n    curTime = 0\n    start() {\n        this.initEnvironment()\n    }\n\n    private initEnvironment() {\n        Environment.supplyPileComps = [this.supplyPileComp1, this.supplyPileComp2]\n        Environment.rockComps = [this.ironRockComp1, this.ironRockComp2, this.ironRockComp3]\n        Environment.treeComps = [this.treeComp1, this.treeComp2, this.treeComp3, this.treeComp4]\n\n        Environment.forgeComps = [this.forgeComp]\n        Environment.choppingBlockComps = [this.choppingBlockComp]\n\n        // 设置backpack\n        let smithBP = new BackPackComponent(0, 0, 0)\n        this.blackSmith.setBackPack(smithBP)\n\n        let loggerBP = new BackPackComponent(0, 0, 0)\n        this.logger.setBackPack(loggerBP)\n\n        let minerBP = new BackPackComponent(0, 0, 0)\n        this.miner.setBackPack(minerBP)\n\n        let woodCutterBP = new BackPackComponent(0, 0, 0)\n        this.woodCutter.setBackPack(woodCutterBP)\n    }\n\n    public update(dt) {\n        this.miner.update(dt)\n        this.blackSmith.update(dt)\n        this.logger.update(dt)\n        this.woodCutter.update(dt)\n    }\n}\n"]}